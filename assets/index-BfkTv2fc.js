const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DocumentsPage-BM5jvDxH.js","assets/vendor-DW-USwv1.js","assets/DocumentsPage-DeICbCSI.css"])))=>i.map(i=>d[i]);
import{c as O,a as v,r as I,o as L,b as $,d as b,e as T,f as R}from"./vendor-DW-USwv1.js";import{enableMockServer as k}from"../src/plugins/msw";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();const z=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,D=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,F=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function x(e,r){if(e==="__proto__"||e==="constructor"&&r&&typeof r=="object"&&"prototype"in r){C(e);return}return r}function C(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function J(e,r={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const t=e.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!F.test(e)){if(r.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(z.test(e)||D.test(e)){if(r.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,x)}return JSON.parse(e)}catch(n){if(r.strict)throw n;return e}}function U(e,r){if(e==null)return;let t=e;for(let n=0;n<r.length;n++){if(t==null||t[r[n]]==null)return;t=t[r[n]]}return t}function g(e,r,t){if(t.length===0)return r;const n=t[0];return t.length>1&&(r=g(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,n)?Number.isInteger(Number(t[1]))?[]:{}:e[n],r,Array.prototype.slice.call(t,1))),Number.isInteger(Number(n))&&Array.isArray(e)?e.slice()[n]:Object.assign({},e,{[n]:r})}function S(e,r){if(e==null||r.length===0)return e;if(r.length===1){if(e==null)return e;if(Number.isInteger(r[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(r[0],1);const t={};for(const n in e)t[n]=e[n];return delete t[r[0]],t}if(e[r[0]]==null){if(Number.isInteger(r[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const t={};for(const n in e)t[n]=e[n];return t}return g(e,S(e[r[0]],Array.prototype.slice.call(r,1)),[r[0]])}function N(e,r){return r.map(t=>t.split(".")).map(t=>[t,U(e,t)]).filter(t=>t[1]!==void 0).reduce((t,n)=>g(t,n[1],n[0]),{})}function E(e,r){return r.map(t=>t.split(".")).reduce((t,n)=>S(t,n),e)}function y(e,{storage:r,serializer:t,key:n,debug:o,pick:s,omit:c,beforeHydrate:i,afterHydrate:l},a,u=!0){try{u&&i?.(a);const d=r.getItem(n);if(d){const f=t.deserialize(d),p=s?N(f,s):f,m=c?E(p,c):p;e.$patch(m)}u&&l?.(a)}catch(d){o&&console.error("[pinia-plugin-persistedstate]",d)}}function h(e,{storage:r,serializer:t,key:n,debug:o,pick:s,omit:c}){try{const i=s?N(e,s):e,l=c?E(i,c):i,a=t.serialize(l);r.setItem(n,a)}catch(i){o&&console.error("[pinia-plugin-persistedstate]",i)}}function V(e,r,t){const{pinia:n,store:o,options:{persist:s=t}}=e;if(!s)return;if(!(o.$id in n.state.value)){const l=n._s.get(o.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const i=(Array.isArray(s)?s:s===!0?[{}]:[s]).map(r);o.$hydrate=({runHooks:l=!0}={})=>{i.forEach(a=>{y(o,a,e,l)})},o.$persist=()=>{i.forEach(l=>{h(o.$state,l)})},i.forEach(l=>{y(o,l,e),o.$subscribe((a,u)=>h(u,l),{detached:!0})})}function B(e={}){return function(r){V(r,t=>({key:(e.key?e.key:n=>n)(t.key??r.store.$id),debug:t.debug??e.debug??!1,serializer:t.serializer??e.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>J(n)},storage:t.storage??e.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit}),e.auto??!1)}}var H=B();const M={loading:"Loading...",language:{toggle:"Toggle language"},theme:{toggle:"Toggle theme"}},q={documents:{title:"Document Previewer",search:{placeholder:"Enter the document ID",title:"Document search"},list:{title:"Results","no-found":"Nothing was found"},preview:{download:"Download",remove:"Remove",description:"Description",empty:"Select a document to view its contents."}}},Y={common:M,pages:q},G={loading:"Загрузка...",language:{toggle:"Переключить язык"},theme:{toggle:"Переключить тему"}},K={documents:{title:"MyApp",search:{placeholder:"Введите ID документа",title:"Поиск документа"},list:{title:"Результаты","no-found":"Ничего не найдено"},preview:{download:"Скачать",remove:"Удалить",description:"Описание",empty:"Выберите документ, чтобы посмотреть его содержимое"}}},W={common:G,pages:K},Q="app-locale",X=()=>{try{return JSON.parse(localStorage.getItem(Q)||"").currentLocale||w()}catch{return w()}},w=()=>navigator.language.split("-")[0]==="ru"?"ru":"en",P=O({legacy:!1,locale:X(),fallbackLocale:"en",messages:{ru:W,en:Y}}),Z=(e,r)=>{const t=e.__vccOpts||e;for(const[n,o]of r)t[n]=o;return t},j={};function ee(e,r){const t=I("RouterView");return L(),v(t)}const te=Z(j,[["render",ee]]),re="modulepreload",ne=function(e){return"/document-previewer/"+e},_={},oe=function(r,t,n){let o=Promise.resolve();if(t&&t.length>0){let l=function(a){return Promise.all(a.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=c?.nonce||c?.getAttribute("nonce");o=l(t.map(a=>{if(a=ne(a),a in _)return;_[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":re,u||(f.as="script"),f.crossOrigin="",f.href=a,i&&f.setAttribute("nonce",i),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return o.then(c=>{for(const i of c||[])i.status==="rejected"&&s(i.reason);return r().catch(s)})},A=$({history:b(),routes:[{path:"/",name:"documents",component:()=>oe(()=>import("./DocumentsPage-BM5jvDxH.js"),__vite__mapDeps([0,1,2])),meta:{title:"pages.documents.title",defaultTitle:"Document Previewer"}}]}),se=(e,r)=>{try{const t=P.global.t(e);return t!==e?t:r}catch{return console.warn(`Translation key "${e}" not found, using default`),r}};A.beforeEach(e=>{if(e.meta?.title){const r=e.meta.title,t=e.meta.defaultTitle||"App";document.title=se(r,t)}});typeof window>"u"&&await k();async function ie(){const e=T();e.use(H);const r=R(te);r.use(e),r.use(A),r.use(P),r.mount("#app")}ie().catch(e=>{console.error("Failed to initialize app:",e)});export{Q as S};
